########################################################################################################################
# Repo tool base settings
########################################################################################################################

[repo]
logging = "warn"


########################################################################################################################
# Build tool setup
########################################################################################################################

[repo_build]

# List of packman projects to pull (in order)
fetch.packman_files_to_pull = [
    "${root}/deps/kit-sdk.packman.xml",
    "${root}/deps/rtx-plugins.packman.xml",
    "${root}/deps/host-deps.packman.xml",
    "${root}/deps/target-deps.packman.xml",
    "${root}/deps/assets.packman.xml",
]

# List of pip files to pip install from (in order)
fetch.pip_files_to_pull = [
    "${root}/deps/pip.toml"
]

stage_files.extra_mapping.kit_sdk_debug = "${root}/_build/target-deps/kit_sdk_debug"
stage_files.extra_mapping.kit_sdk_release = "${root}/_build/target-deps/kit_sdk_release"

vscode.python = "${root}/_build/target-deps/kit_sdk_debug/_build/target-deps/python"

vscode.python_env.PYTHONPATH= [
  "$$$${PYTHONPATH}",
  "${env:PYTHONPATH}",
  "$root/_build/pip-packages",
  "$repo_deps/repo_man",
  "$repo_deps/repo_build",
  "$repo_deps/repo_fileutils",
  "$repo_deps/repo_format",
  "$repo_deps/repo_package",
  "$root/tools/repoman",
  "$root/_build/$platform/$config/extensions",
  "$root/_build/$platform/$config/exts",
  "$root/_build/$platform/$config/bindings-python",
]

vscode.python_env.PATH= ["$$$${PATH}", "$root/_build/$platform/$config",
  "$root/_build/target-deps/kit_sdk_$config/_build/$platform/$config",
  "$root/_build/target-deps/kit_sdk_$config/_build/$platform/$config/plugins",
]


msbuild.sln_file = "kit-examples.sln"
msbuild.vs_version = "vs2017"

stage_files.error_if_missing = true

licensing.enabled = false
licensing.repo_licensing_version = "0.1.3.1"
licensing.packages = ["${root}/deps/rtx-target-deps.packman.xml", "${root}/deps/target-deps.packman.xml"]
licensing.fail_on_missing = true


########################################################################################################################
# Documentation building
########################################################################################################################

[repo_build_docs]
enabled = true

# Use python from kit sdk
python_path =  "${root}/_build/target-deps/kit_sdk_${config}/_build/${platform}/${config}/python${shell_ext}"

# differentiate debug/release docs
enable_build_config_choice = true

# Add all extensions to docs sys.path
extra_sys_paths = [
    "${root}/_build/${platform}/${config}/exts/*"
]


########################################################################################################################
# Packaging 
########################################################################################################################

[repo_package]
packages = { "example_extensions" = {} }


########################################################################################################################
# Package publishing to packman
########################################################################################################################

[repo_publish]
enabled = true

packages = ["example_extensions"]
